<!DOCTYPE html> <html><head>
		<title>Agreement</title>
		<base href="../../../../">
		<meta id="root-path" root-path="../../../../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Vault - Agreement">
		<meta property="og:title" content="Agreement">
		<meta property="og:description" content="Vault - Agreement">
		<meta property="og:type" content="website">
		<meta property="og:url" content="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Vault">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-c.mjx-c21CF.TEX-A::before{padding:.534em 1em .035em 0;content:"â‡"}mjx-c.mjx-c27FA::before{padding:.525em 1.858em .024em 0;content:"âŸº"}mjx-c.mjx-c230A::before{padding:.75em .444em .25em 0;content:"âŒŠ"}mjx-c.mjx-c230B::before{padding:.75em .444em .25em 0;content:"âŒ‹"}mjx-c.mjx-c1D438.TEX-I::before{padding:.68em .764em 0 0;content:"E"}mjx-c.mjx-c2308::before{padding:.75em .444em .25em 0;content:"âŒˆ"}mjx-c.mjx-c2309::before{padding:.75em .444em .25em 0;content:"âŒ‰"}mjx-c.mjx-c56::before{padding:.683em .75em .022em 0;content:"V"}mjx-c.mjx-c1D6FF.TEX-I::before{padding:.717em .444em .01em 0;content:"Î´"}mjx-c.mjx-c1D709.TEX-I::before{padding:.704em .438em .205em 0;content:"Î¾"}mjx-c.mjx-c4C.TEX-C::before{padding:.705em .69em .022em 0;content:"L"}mjx-c.mjx-c28.TEX-S2::before{padding:1.15em .597em .649em 0;content:"("}mjx-c.mjx-c29.TEX-S2::before{padding:1.15em .597em .649em 0;content:")"}mjx-c.mjx-c1D70F.TEX-I::before{padding:.431em .517em .013em 0;content:"Ï„"}mjx-c.mjx-c1D43B.TEX-I::before{padding:.683em .888em 0 0;content:"H"}mjx-c.mjx-c2264::before{padding:.636em .778em .138em 0;content:"â‰¤"}mjx-c.mjx-c223C::before{padding:.367em .778em 0 0;content:"âˆ¼"}mjx-c.mjx-c1D6FC.TEX-I::before{padding:.442em .64em .011em 0;content:"Î±"}mjx-c.mjx-c1D716.TEX-I::before{padding:.431em .406em .011em 0;content:"Ïµ"}mjx-c.mjx-c1D70C.TEX-I::before{padding:.442em .517em .216em 0;content:"Ï"}mjx-c.mjx-c52.TEX-C::before{padding:.682em .848em .022em 0;content:"R"}mjx-c.mjx-c1D53C.TEX-A::before{padding:.683em .667em 0 0;content:"E"}mjx-mtable{display:inline-block;text-align:center;vertical-align:.25em;position:relative;box-sizing:border-box;border-spacing:0px;border-collapse:collapse}mjx-mstyle[size="s"] mjx-mtable{vertical-align:.354em}mjx-labels{position:absolute;left:0;top:0}mjx-table{display:inline-block;vertical-align:-.5ex;box-sizing:border-box}mjx-table>mjx-itable{vertical-align:middle;text-align:left;box-sizing:border-box}mjx-labels>mjx-itable{position:absolute;top:0}mjx-mtable[justify=left]{text-align:left}mjx-mtable[justify=right]{text-align:right}mjx-mtable[justify=left][side=left]{padding-right:0!important}mjx-mtable[justify=left][side=right]{padding-left:0!important}mjx-mtable[justify=right][side=left]{padding-right:0!important}mjx-mtable[justify=right][side=right]{padding-left:0!important}mjx-mtable[align]{vertical-align:baseline}mjx-mtable[align=top]>mjx-table{vertical-align:top}mjx-mtable[align=bottom]>mjx-table{vertical-align:bottom}mjx-mtable[side=right] mjx-labels{min-width:100%}mjx-mtr{display:table-row;text-align:left}mjx-mtr[rowalign=top]>mjx-mtd{vertical-align:top}mjx-mtr[rowalign=center]>mjx-mtd{vertical-align:middle}mjx-mtr[rowalign=bottom]>mjx-mtd{vertical-align:bottom}mjx-mtr[rowalign=baseline]>mjx-mtd{vertical-align:baseline}mjx-mtr[rowalign=axis]>mjx-mtd{vertical-align:.25em}mjx-mtd{display:table-cell;text-align:center;padding:.215em .4em}mjx-mtd:first-child{padding-left:0}mjx-mtd:last-child{padding-right:0}mjx-mtable>*>mjx-itable>:first-child>mjx-mtd{padding-top:0}mjx-mtable>*>mjx-itable>:last-child>mjx-mtd{padding-bottom:0}mjx-tstrut{display:inline-block;height:1em;vertical-align:-.25em}mjx-labels[align=left]>mjx-mtr>mjx-mtd{text-align:left}mjx-labels[align=right]>mjx-mtr>mjx-mtd{text-align:right}mjx-mtd[extra]{padding:0}mjx-mtd[rowalign=top]{vertical-align:top}mjx-mtd[rowalign=center]{vertical-align:middle}mjx-mtd[rowalign=bottom]{vertical-align:bottom}mjx-mtd[rowalign=baseline]{vertical-align:baseline}mjx-mtd[rowalign=axis]{vertical-align:.25em}mjx-stretchy-v.mjx-c28 mjx-beg mjx-c::before{content:"âŽ›";padding:1.154em .875em .655em 0}mjx-stretchy-v.mjx-c28 mjx-ext mjx-c::before{content:"âŽœ";width:.875em}mjx-stretchy-v.mjx-c28 mjx-end mjx-c::before{content:"âŽ";padding:1.165em .875em .644em 0}mjx-stretchy-v.mjx-c28>mjx-end{margin-top:-1.809em}mjx-stretchy-v.mjx-c28>mjx-ext{border-top-width:1.779em;border-bottom-width:1.779em}mjx-stretchy-v.mjx-c29 mjx-beg mjx-c::before{content:"âŽž";padding:1.154em .875em .655em 0}mjx-stretchy-v.mjx-c29 mjx-ext mjx-c::before{content:"âŽŸ";width:.875em}mjx-stretchy-v.mjx-c29 mjx-end mjx-c::before{content:"âŽ ";padding:1.165em .875em .644em 0}mjx-stretchy-v.mjx-c29>mjx-end{margin-top:-1.809em}mjx-stretchy-v.mjx-c29>mjx-ext{border-top-width:1.779em;border-bottom-width:1.779em}mjx-c.mjx-c1D417.TEX-B::before{padding:.686em .869em 0 0;content:"X"}mjx-c.mjx-c1D753.TEX-BI::before{padding:.694em .712em .202em 0;content:"Ï•"}mjx-c.mjx-c1D6BD.TEX-B::before{padding:.686em .831em 0 0;content:"Î¦"}mjx-c.mjx-c22EF::before{padding:.31em 1.172em 0 0;content:"â‹¯"}mjx-c.mjx-c22EE::before{padding:1.3em .278em .03em 0;content:"â‹®"}mjx-c.mjx-c22F1::before{padding:1.52em 1.282em 0 0;content:"â‹±"}mjx-msqrt{display:inline-block;text-align:left}mjx-root{display:inline-block;white-space:nowrap}mjx-surd{display:inline-block;vertical-align:top}mjx-sqrt{display:inline-block;padding-top:.07em}mjx-sqrt>mjx-box{border-top:.07em solid}mjx-sqrt.mjx-tall>mjx-box{padding-left:.3em;margin-left:-.3em}mjx-c.mjx-c1D433.TEX-B::before{padding:.444em .511em 0 0;content:"z"}mjx-c.mjx-c2207::before{padding:.683em .833em .033em 0;content:"âˆ‡"}mjx-c.mjx-c1D41A.TEX-B::before{padding:.453em .559em .006em 0;content:"a"}mjx-c.mjx-c1D408.TEX-B::before{padding:.686em .436em 0 0;content:"I"}mjx-c.mjx-c1D42D.TEX-B::before{padding:.635em .447em .005em 0;content:"t"}mjx-c.mjx-c1D424.TEX-B::before{padding:.694em .607em 0 0;content:"k"}mjx-c.mjx-c221A::before{padding:.8em .853em .2em 0;content:"âˆš"}mjx-c.mjx-c2229::before{padding:.598em .667em .022em 0;content:"âˆ©"}mjx-c.mjx-c222A::before{padding:.598em .667em .022em 0;content:"âˆª"}mjx-c.mjx-c1D432.TEX-B::before{padding:.444em .607em .2em 0;content:"y"}mjx-c.mjx-c4E.TEX-C::before{padding:.789em .979em .05em 0;content:"N"}mjx-c.mjx-c1D7CE.TEX-B::before{padding:.654em .575em .01em 0;content:"0"}mjx-c.mjx-c41.TEX-C::before{padding:.728em .819em .05em 0;content:"A"}mjx-c.mjx-c53.TEX-C::before{padding:.705em .642em .022em 0;content:"S"}mjx-c.mjx-c1D70B.TEX-I::before{padding:.431em .57em .011em 0;content:"Ï€"}mjx-c.mjx-c1D6FE.TEX-I::before{padding:.441em .543em .216em 0;content:"Î³"}mjx-c.mjx-c2032::before{padding:.56em .275em 0 0;content:"â€²"}mjx-c.mjx-c2026::before{padding:.12em 1.172em 0 0;content:"â€¦"}mjx-c.mjx-cB7::before{padding:.31em .278em 0 0;content:"â‹…"}mjx-c.mjx-c2225::before{padding:.75em .5em .25em 0;content:"âˆ¥"}mjx-c.mjx-c2260::before{padding:.716em .778em .215em 0;content:"â‰ "}mjx-c.mjx-c1D44C.TEX-I::before{padding:.683em .763em 0 0;content:"Y"}mjx-c.mjx-c1D719.TEX-I::before{padding:.694em .596em .205em 0;content:"Ï•"}mjx-c.mjx-c1D43F.TEX-I::before{padding:.683em .681em 0 0;content:"L"}mjx-c.mjx-c4D.TEX-C::before{padding:.705em 1.201em .05em 0;content:"M"}mjx-c.mjx-c5E::before{padding:.694em .5em 0 0;content:"^"}mjx-c.mjx-c2190::before{padding:.511em 1em .011em 0;content:"â†"}mjx-c.mjx-c1D70E.TEX-I::before{padding:.431em .571em .011em 0;content:"Ïƒ"}mjx-c.mjx-c2061::before{padding:0;content:""}mjx-c.mjx-c1D441.TEX-I::before{padding:.683em .888em 0 0;content:"N"}mjx-c.mjx-c67::before{padding:.453em .5em .206em 0;content:"g"}mjx-c.mjx-c220F.TEX-S1::before{padding:.75em .944em .25em 0;content:"âˆ"}mjx-c.mjx-c1D707.TEX-I::before{padding:.442em .603em .216em 0;content:"Î¼"}mjx-c.mjx-c44.TEX-C::before{padding:.683em .771em 0 0;content:"D"}mjx-c.mjx-c1D43E.TEX-I::before{padding:.683em .889em 0 0;content:"K"}mjx-c.mjx-c21D2::before{padding:.525em 1em .024em 0;content:"â‡’"}mjx-c.mjx-c1D431.TEX-B::before{padding:.444em .607em 0 0;content:"x"}mjx-c.mjx-c22C5::before{padding:.31em .278em 0 0;content:"â‹…"}mjx-c.mjx-c1D430.TEX-B::before{padding:.444em .831em 0 0;content:"w"}mjx-c.mjx-c28.TEX-S4::before{padding:1.75em .792em 1.249em 0;content:"("}mjx-c.mjx-c2211.TEX-S2::before{padding:.95em 1.444em .45em 0;content:"âˆ‘"}mjx-c.mjx-c29.TEX-S4::before{padding:1.75em .792em 1.249em 0;content:")"}mjx-c.mjx-c27F9::before{padding:.525em 1.638em .024em 0;content:"âŸ¹"}mjx-c.mjx-c24::before{padding:.75em .5em .056em 0;content:"$"}mjx-c.mjx-c3A6::before{padding:.683em .722em 0 0;content:"Î¦"}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-mover{display:inline-block;text-align:left}mjx-mover:not([limits=false]){padding-top:.1em}mjx-mover:not([limits=false])>*{display:block;text-align:left}mjx-c.mjx-c2308.TEX-S2::before{padding:1.15em .528em .649em 0;content:"âŒˆ"}mjx-c.mjx-c2309.TEX-S2::before{padding:1.15em .528em .649em 0;content:"âŒ‰"}mjx-c.mjx-c1D43A.TEX-I::before{padding:.705em .786em .022em 0;content:"G"}mjx-c.mjx-c5F::before{padding:0 .5em .062em 0;content:"_"}mjx-c.mjx-c1D44B.TEX-I::before{padding:.683em .852em 0 0;content:"X"}mjx-c.mjx-c7E::before{padding:.318em .5em 0 0;content:"~"}mjx-c.mjx-c1D45E.TEX-I::before{padding:.442em .46em .194em 0;content:"q"}mjx-mspace{display:inline-block;text-align:left}mjx-munder{display:inline-block;text-align:left}mjx-over{text-align:left}mjx-munder:not([limits=false]){display:inline-table}mjx-munder>mjx-row{text-align:left}mjx-under{padding-bottom:.1em}mjx-c.mjx-c1D454.TEX-I::before{padding:.442em .477em .205em 0;content:"g"}mjx-c.mjx-c3A::before{padding:.43em .278em 0 0;content:":"}mjx-c.mjx-c221E::before{padding:.442em 1em .011em 0;content:"âˆž"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c1D464.TEX-I::before{padding:.443em .716em .011em 0;content:"w"}mjx-c.mjx-c1D439.TEX-I::before{padding:.68em .749em 0 0;content:"F"}mjx-c.mjx-c222B.TEX-S2::before{padding:1.36em .944em .862em 0;content:"âˆ«"}mjx-c.mjx-c1D459.TEX-I::before{padding:.694em .298em .011em 0;content:"l"}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c1D442.TEX-I::before{padding:.704em .763em .022em 0;content:"O"}mjx-c.mjx-c1D466.TEX-I::before{padding:.442em .49em .205em 0;content:"y"}mjx-c.mjx-c1D706.TEX-I::before{padding:.694em .583em .012em 0;content:"Î»"}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c2208::before{padding:.54em .667em .04em 0;content:"âˆˆ"}mjx-c.mjx-c7B::before{padding:.75em .5em .25em 0;content:"{"}mjx-c.mjx-c7D::before{padding:.75em .5em .25em 0;content:"}"}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c1D435.TEX-I::before{padding:.683em .759em 0 0;content:"B"}mjx-c.mjx-c7C::before{padding:.75em .278em .249em 0;content:"|"}mjx-c.mjx-c1D448.TEX-I::before{padding:.683em .767em .022em 0;content:"U"}mjx-c.mjx-c1D465.TEX-I::before{padding:.442em .572em .011em 0;content:"x"}mjx-c.mjx-c39::before{padding:.666em .5em .022em 0;content:"9"}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c37::before{padding:.676em .5em .022em 0;content:"7"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c38::before{padding:.666em .5em .022em 0;content:"8"}mjx-c.mjx-c2192::before{padding:.511em 1em .011em 0;content:"â†’"}mjx-c.mjx-cA0::before{padding:0 .25em 0 0;content:"Â "}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c5B::before{padding:.75em .278em .25em 0;content:"["}mjx-c.mjx-c5D::before{padding:.75em .278em .25em 0;content:"]"}mjx-c.mjx-c3C::before{padding:.54em .778em .04em 0;content:"<"}mjx-c.mjx-c3E::before{padding:.54em .778em .04em 0;content:">"}mjx-c.mjx-c1D453.TEX-I::before{padding:.705em .55em .205em 0;content:"f"}mjx-c.mjx-c1D43C.TEX-I::before{padding:.683em .504em 0 0;content:"I"}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c1D443.TEX-I::before{padding:.683em .751em 0 0;content:"P"}mjx-c.mjx-c23::before{padding:.694em .833em .194em 0;content:"#"}mjx-c.mjx-c6B::before{padding:.694em .528em 0 0;content:"k"}mjx-c.mjx-c79::before{padding:.431em .528em .204em 0;content:"y"}mjx-c.mjx-c1D440.TEX-I::before{padding:.683em 1.051em 0 0;content:"M"}mjx-c.mjx-c71::before{padding:.442em .528em .194em 0;content:"q"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c1D445.TEX-I::before{padding:.683em .759em .021em 0;content:"R"}mjx-c.mjx-c1D444.TEX-I::before{padding:.704em .791em .194em 0;content:"Q"}mjx-c.mjx-c1D457.TEX-I::before{padding:.661em .412em .204em 0;content:"j"}mjx-c.mjx-c50::before{padding:.683em .681em 0 0;content:"P"}mjx-c.mjx-c43::before{padding:.705em .722em .021em 0;content:"C"}mjx-c.mjx-c49::before{padding:.683em .361em 0 0;content:"I"}mjx-c.mjx-c44::before{padding:.683em .764em 0 0;content:"D"}mjx-c.mjx-c7A::before{padding:.431em .444em 0 0;content:"z"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c1D462.TEX-I::before{padding:.442em .572em .011em 0;content:"u"}mjx-c.mjx-c1D452.TEX-I::before{padding:.442em .466em .011em 0;content:"e"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c2265::before{padding:.636em .778em .138em 0;content:"â‰¥"}mjx-c.mjx-cD7::before{padding:.491em .778em 0 0;content:"Ã—"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mrow{display:inline-block;text-align:left}mjx-c.mjx-c53::before{padding:.705em .556em .022em 0;content:"S"}mjx-c.mjx-c64::before{padding:.694em .556em .011em 0;content:"d"}mjx-c.mjx-c75::before{padding:.442em .556em .011em 0;content:"u"}mjx-c.mjx-c76::before{padding:.431em .528em .011em 0;content:"v"}mjx-c.mjx-c45::before{padding:.68em .681em 0 0;content:"E"}mjx-c.mjx-c78::before{padding:.431em .528em 0 0;content:"x"}mjx-c.mjx-c77::before{padding:.431em .722em .011em 0;content:"w"}mjx-c.mjx-c46::before{padding:.68em .653em 0 0;content:"F"}mjx-msub{display:inline-block;text-align:left}mjx-msup{display:inline-block;text-align:left}mjx-munderover{display:inline-block;text-align:left}mjx-munderover:not([limits=false]){padding-top:.1em}mjx-munderover:not([limits=false])>*{display:block}mjx-msubsup{display:inline-block;text-align:left}mjx-script{display:inline-block;padding-right:.05em;padding-left:.033em}mjx-script>mjx-spacer{display:block}mjx-texatom{display:inline-block;text-align:left}mjx-mtext{display:inline-block;text-align:left}mjx-mn{display:inline-block;text-align:left}mjx-c.mjx-c1D44A.TEX-I::before{padding:.683em 1.048em .022em 0;content:"W"}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c1D467.TEX-I::before{padding:.442em .465em .011em 0;content:"z"}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c1D437.TEX-I::before{padding:.683em .828em 0 0;content:"D"}mjx-c.mjx-c1D44F.TEX-I::before{padding:.694em .429em .011em 0;content:"b"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c2211.TEX-S1::before{padding:.75em 1.056em .25em 0;content:"âˆ‘"}mjx-c.mjx-c69::before{padding:.669em .278em 0 0;content:"i"}mjx-c.mjx-c6E::before{padding:.442em .556em 0 0;content:"n"}mjx-c.mjx-c66::before{padding:.705em .372em 0 0;content:"f"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c73::before{padding:.448em .394em .011em 0;content:"s"}mjx-c.mjx-c6D::before{padding:.442em .833em 0 0;content:"m"}mjx-c.mjx-c74::before{padding:.615em .389em .01em 0;content:"t"}mjx-c.mjx-c68::before{padding:.694em .556em 0 0;content:"h"}mjx-c.mjx-c20::before{padding:0 .25em 0 0;content:" "}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c6F::before{padding:.448em .5em .01em 0;content:"o"}mjx-c.mjx-c65::before{padding:.448em .444em .011em 0;content:"e"}mjx-c.mjx-c72::before{padding:.442em .392em 0 0;content:"r"}mjx-c.mjx-c70::before{padding:.442em .556em .194em 0;content:"p"}mjx-c.mjx-c62::before{padding:.694em .556em .011em 0;content:"b"}mjx-c.mjx-c6C::before{padding:.694em .278em 0 0;content:"l"}mjx-c.mjx-c63::before{padding:.448em .444em .011em 0;content:"c"}mjx-c.mjx-c61::before{padding:.448em .5em .011em 0;content:"a"}mjx-c.mjx-c1D714.TEX-I::before{padding:.443em .622em .011em 0;content:"Ï‰"}mjx-c.mjx-c2217::before{padding:.465em .5em 0 0;content:"âˆ—"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c1D458.TEX-I::before{padding:.694em .521em .011em 0;content:"k"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c210E.TEX-I::before{padding:.694em .576em .011em 0;content:"h"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c1D449.TEX-I::before{padding:.683em .769em .022em 0;content:"V"}mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;font-size-adjust:none;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mi{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("lib/fonts/mathjax_zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("lib/fonts/mathjax_main-regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("lib/fonts/mathjax_main-bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("lib/fonts/mathjax_math-italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("lib/fonts/mathjax_main-italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("lib/fonts/mathjax_math-bolditalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("lib/fonts/mathjax_size1-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("lib/fonts/mathjax_size2-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("lib/fonts/mathjax_size3-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("lib/fonts/mathjax_size4-regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("lib/fonts/mathjax_ams-regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("lib/fonts/mathjax_fraktur-regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("lib/fonts/mathjax_fraktur-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("lib/fonts/mathjax_sansserif-regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("lib/fonts/mathjax_sansserif-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("lib/fonts/mathjax_sansserif-italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("lib/fonts/mathjax_script-regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("lib/fonts/mathjax_typewriter-regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("lib/fonts/mathjax_vector-regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("lib/fonts/mathjax_vector-bold.woff") format("woff")}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"âˆ’"}mjx-c.mjx-c1D446.TEX-I::before{padding:.705em .645em .022em 0;content:"S"}</style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Commit protocols">Commit protocols</h1><div class="el-p"><p dir="auto">source: <a class="internal-link" data-href="07-agreement.pdf" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/07-agreement.pdf" target="_self" rel="noopener nofollow">Agreement slides</a></p></div><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-h2 heading-wrapper"><h2 data-heading="Atomic Commit" dir="auto" class="heading" id="Atomic_Commit"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Atomic Commit</h2><div class="heading-children"><div class="el-p"><p dir="auto">We have multiple partition of database and we have to ensure that every node agrees on the commit of the transaction. Thus:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Every node votes to commit or abort</li>
<li data-line="1" dir="auto">Commit if and only if all nodes vote to commit, abort otherwise</li>
<li data-line="2" dir="auto">Any crash leads to an abort</li>
</ul></div><div class="el-h3 heading-wrapper"><h3 data-heading="Two phase commit (2PC)" dir="auto" class="heading" id="Two_phase_commit_(2PC)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Two phase commit (2PC)</h3><div class="heading-children"><div class="el-ol"><ol>
<li data-line="0" dir="auto">Coordinator asks all participants to prepare and vote yes or not.</li>
<li data-line="1" dir="auto">Coordinator collects votes and checks them, if at least one of the replies is no then it aborts.</li>
</ol></div><div class="el-p"><embed src="07-agreement.pdf#Page=7" style="width: 100%; max-width: 100%; height: 800px;"></div><div class="el-p"><p dir="auto"><strong>Possible failures</strong></p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">
<p>A participant fails: after a given timeout, the coordinator assumes abort.</p>
</li>
<li data-line="1" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p>The coordinator fails: </p>
<ul>
<li data-line="2" dir="auto">If a participant is in a <em>Init state</em> (not sent the decision yet), means that a vote is missing so it is impossible that a global decision has been taken. Thus the coordinator has crashed before completing the prepare phase. In this situation the node can decide to abort.</li>
<li data-line="3" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>If a participant is in a <em>Ready state</em> (waiting for a global decision), means that he already sent his vote, so it cannot decide on its own since it doesn't know the other participant decisions. In this case it can:
<ul>
<li data-line="4" dir="auto">Wait for the coordinator to recover</li>
<li data-line="5" dir="auto">Request the decision to another participant, which maybe had a reply from a coordinator or is in a Init state. In case everybody is in the same <em>Ready</em> situation, then nothing can be decided until the coordinator recovers (<strong>Blocking protocol</strong>: nodes are not able to make progress without a global decision).</li>
</ul>
</li>
</ul>
<p><a class="internal-link" data-href="07-agreement.pdf#Page=9" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/07-agreement.pdf#Page=9" target="_self" rel="noopener nofollow">Algorithm</a> (9 -10)</p>
</li>
</ul></div><div class="el-p"><p dir="auto"><strong>Conclusion</strong>s<br>
2PC is <em>safe</em> (never leads to an incorrect state), but it may block. How to avoid that? Three phase commit.</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Three phase commit (3PC)" dir="auto" class="heading" id="Three_phase_commit_(3PC)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Three phase commit (3PC)</h3><div class="heading-children"><div class="el-p"><p dir="auto">Attempt to solve the problems of 2PC by adding another phase to the protocol, the <em>pre-commit</em> state. It has not state leading directly to both commit and abort.</p></div><div class="el-p"><p dir="auto"><strong>Idea</strong>: split the commit/abort phase into two phases â€“ Communicate the outcome to all nodes. Let them commit only after everyone knows the outcome.</p></div><div class="el-p"><embed src="07-agreement.pdf#Page=13" style="width: 100%; max-width: 100%; height: 800px;"></div><div class="el-p"><p dir="auto"><strong>Possible failures</strong></p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>If a <strong>participant fails</strong>:
<ul>
<li data-line="1" dir="auto">Since coordinator has not received all votes (still in <em>wait</em> state), then it can assume abort decision.</li>
<li data-line="2" dir="auto">In case coordinator is in <em>pre-commit</em>, it can can safely commit and tell the failed participant to commit when it recovers.</li>
</ul>
</li>
<li data-line="3" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>If a <strong>coordinator fails</strong>:
<ul>
<li data-line="4" dir="auto">If a participant is in a <em>Init state</em> (not sent the decision yet), it can decide to abort. Same as 2PC.</li>
<li data-line="5" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>If a participant is in a <em>Ready state</em> (waiting for a global decision). It can request the decision to another participant, which maybe had a reply from a coordinator:
<ul>
<li data-line="6" dir="auto">At least one in abort, then abort</li>
<li data-line="7" dir="auto">At least one in commit, then commit</li>
<li data-line="8" dir="auto">At least one in Init, then abort (vote are missing)</li>
<li data-line="9" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Otherwise, majority checks are applied. In fact we want to prevent that if there's a internet partition (groups of participant can't communicate), they reach different decisions, so:
<ul>
<li data-line="10" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>If I can hear from the majority of the nodes (who are ready):
<ul>
<li data-line="11" dir="auto">if one of them is in pre-commit, then I can commit. </li>
<li data-line="12" dir="auto">if nobody is in pre-commit, then I can abort.</li>
</ul>
</li>
<li data-line="13" dir="auto">If I can hear from the minority of the nodes, no decision can be made and I need to wait to be reconnected to the majority.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul></div><div class="el-p"><p dir="auto"><strong>Conclusions</strong><br>
3PC is <strong>safe</strong> and <strong>non-blocking</strong> (in synchronous systems, where we can use a timeout to learn if a node is connected or not), in an asynchronous system, the protocol cannot use timeouts to discriminate connected and disconnected node. As consequence from the FLP theorem, you cannot have both liveness and safety in presence of network partition in an asynchronous system, so 3PC cannot guarantee that.<br>
It is more expensive than 2PC and not widely used in practice.</p></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="info" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-info"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner">Why not blocking?</div></div><div class="callout-content">
<p dir="auto">It is necessary to add another intermediate phase to guarantee non-blocking protocol for the following reasons.<br>
One could think that the same majority checks described in 3PC are applicable to 2PC, so if coordinator fails, and noboy has aborted or committed or is in Init, partecipants can check:<br>
-If I can hear from the majority of the nodes (who are ready) and one of them is in commit, then I can commit.<br>
-Otherwise if i can hear from the majority of the nodes (who are ready), and nobody is in Commit, then I can abort.<br>
However, this is wrong. In fact while in 3PC, if a node is in a minority partition it cannot take decisions even if there is one partecipant which is the pre-commit phase, because it is not sure that everyone will commit (since no majority can be reached), in 2PC if a node is in a minority and there is one node who is in commit, this will lead the partition to commit, while in the partition the majority of the nodes it can happen that nobody is in the commit state and so they can't decide. The two partition will become inconsistent.<br>
The important point is that the pre-commit phase allows partecipant to know the intentions of the coordinator and in case of failing makes partecipant decide, based on majority checks, if conclude or not what the coordinator started; while without commit, the intentions of the coordinator cannot be communicated without making a client commit (only commit message available for the coordinator), so clients cannot decide based on majority if doing so or not, because there is one partecipant who committed anyway!</p>
</div></div></div></div></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Replicated state machines" dir="auto" class="heading" id="Replicated_state_machines">Replicated state machines</h1><div class="heading-children"><div class="el-p"><p dir="auto">Is a general method for implementing a fault-tolerant service by replicating servers and coordinating client interactions with server replicas. Involve general purpose consensus algorithm that allows a collection of machines to work as a coherent group.<br>
In terms of clients and services, each service comprises one or more servers and exports operations that clients invoke by making requests. To have an higher level of fault tolerance, multiple servers that fail independently can be used, and protocols to coordinate client interactions with these replicas become necessary.</p></div><div class="el-p"><p dir="auto">The state machine manages internal state and responds to external requests.</p></div><div class="el-p"><p dir="auto">In order to give the client the illusion of operating on a single machine, an order of operation must be decided, this is done using a replicated log.</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">Client send request</li>
<li data-line="1" dir="auto">Request are added to a log</li>
<li data-line="2" dir="auto">Client "talk" and <strong>agree on the order of the operation</strong> with the algorithm.</li>
<li data-line="3" dir="auto">Operation are added to the state machine.</li>
</ol></div><div class="el-p"><p dir="auto"><strong>Failure model</strong><br>
Under the following assumption:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">unreliable and asynchronous communication </li>
<li data-line="1" dir="auto">processes may fail and restart but must "remember" what they were doing</li>
</ul></div><div class="el-h2 heading-wrapper"><h2 data-heading="Guarantees" dir="auto" class="heading" id="Guarantees"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Guarantees</h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>Safety</strong>: All non-failing machines execute the same command in the same order</li>
<li data-line="1" dir="auto"><strong>Liveness</strong>: The system makes progress <mark>if any majority of machines are up and can communicate with each other</mark>. Guaranteed in practice under typical operating condition.</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Paxos algorithm" dir="auto" class="heading" id="Paxos_algorithm"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Paxos algorithm</h2><div class="heading-children"><div class="el-p"><p dir="auto">Although being the reference algorithm for consensus for about 30 years, it is very difficult to understand and to use in practice, so it has been substituted by easier algorithms.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Raft algorithm" dir="auto" class="heading" id="Raft_algorithm"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Raft algorithm</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="The algorithm - normal operation" dir="auto" class="heading" id="The_algorithm_-_normal_operation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>The algorithm - normal operation</h3><div class="heading-children"><div class="el-p"><p dir="auto">Nodes can be in three states: </p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Follower</li>
<li data-line="1" dir="auto">Leader</li>
<li data-line="2" dir="auto">Candidate</li>
</ul></div><div class="el-p"><p dir="auto">Steps of the algorithm:</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Client Sends Command to Leader:</strong></p>
<ul>
<li data-line="1" dir="auto">The client submits a command (such as an update or query) to the <strong>leader</strong>.</li>
</ul>
</li>
<li data-line="3" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Leader Appends Command to Its Log:</strong></p>
<ul>
<li data-line="4" dir="auto">The <strong>leader</strong> appends the command as a new log entry in its own log. At this point, the entry is <strong>uncommitted</strong>, meaning it's not yet applied to the systemâ€™s state.</li>
</ul>
</li>
<li data-line="6" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Leader Sends AppendEntries to Followers:</strong></p>
<ul>
<li data-line="7" dir="auto">The <strong>leader</strong> sends an <strong>AppendEntries</strong> request to all <strong>followers</strong>, asking them to replicate the new log entry. The <strong>AppendEntries</strong> message includes the log entries to be replicated and the leaderâ€™s latest information about the log state.</li>
</ul>
</li>
<li data-line="9" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Majority Confirmation for Commitment:</strong></p>
<ul>
<li data-line="10" dir="auto">Once the <strong>leader</strong> receives confirmation from a <strong>majority</strong> of the followers (not all) that they have appended the new entry to their logs, the entry becomes <strong>committed</strong>. This step ensures fault tolerance: the entry will survive even if some servers fail.</li>
</ul>
</li>
<li data-line="12" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Leader Executes the Command and Responds to Client:</strong></p>
<ul>
<li data-line="13" dir="auto">After the log entry is <strong>committed</strong>, the <strong>leader</strong> executes the command in its <strong>state machine</strong> (the part of the system that processes commands and updates the systemâ€™s state).</li>
<li data-line="14" dir="auto">The <strong>leader</strong> then sends the result of the command back to the <strong>client</strong>.</li>
</ul>
</li>
<li data-line="16" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Leader Notifies Followers of Committed Entries:</strong></p>
<ul>
<li data-line="17" dir="auto">In future <strong>AppendEntries</strong> messages, the <strong>leader</strong> informs the <strong>followers</strong> about which entries have been <strong>committed</strong>. This is important because followers may not be aware of the commitment status until they are notified by the leader.</li>
</ul>
</li>
<li data-line="19" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>Followers Execute Committed Commands:</strong></p>
<ul>
<li data-line="20" dir="auto">Upon receiving the leader's notification that an entry has been <strong>committed</strong>, each <strong>follower</strong> applies the committed entry to their own <strong>state machine</strong>. This ensures that all servers in the cluster apply the same commands in the same order, keeping the system state consistent.</li>
</ul>
</li>
</ol></div><div class="el-p"><p dir="auto"><a class="internal-link" data-href="07-agreement.pdf#Page=29" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/07-agreement.pdf#Page=29" target="_self" rel="noopener nofollow">Normal operation example</a> (29-33)</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Leader election" dir="auto" class="heading" id="Leader_election"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Leader election</h3><div class="heading-children"><div class="el-p"><p dir="auto">The leader periodically sends AppendEntries messages with its unacknowledged log entries. Here the AppendEntries works like an earth-beat.</p></div><div class="el-p"><p dir="auto">Followers have a timeout, if they don't hear from the leader after the time out expiration, they start an election as candidates.<br>
Notice that the time out is much larger than a typical network delay and it is randomized for each node, so to minimize the probability that two nodes become candidates at the same time and to make elections faster.</p></div><div class="el-p"><p dir="auto"><strong>Terms</strong><br>
Raft divides time into <strong><em>terms</em></strong> of arbitrary length. Each server maintains a current term value, which is exchanged in every communication so to identify obsolete information.<br>
Each term begins with an election, in which one or more candidate try to become leader, and continues with a normal operation phase. Since there must be at most one leader per term (safety), if an election is concluded with split vote (no majority for any candidate), the term is concluded early, that is before the normal operation phase can start, and another one is started, with a new election.</p></div><div class="el-p"><p dir="auto">We notice that in theory, infinite split votes can happen, and so infinite terms which only consist in election phase and no normal operation phase, but in practice that is an highly improbable scenario, also due to the randomization of timeouts described above (liveness).</p></div><div class="el-p"><p dir="auto"><a class="internal-link" data-href="07-agreement.pdf#Page=36" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/07-agreement.pdf#Page=36" target="_self" rel="noopener nofollow">Algorithm state graph</a> (36 - 37)</p></div><div class="el-p"><p dir="auto"><a class="internal-link" data-href="07-agreement.pdf#Page=36" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/07-agreement.pdf#Page=36" target="_self" rel="noopener nofollow">Leader election example</a> (39-44)</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Communication with clients" dir="auto" class="heading" id="Communication_with_clients"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Communication with clients</h3><div class="heading-children"><div class="el-p"><p dir="auto">In Raft, clients always interact with the leader: when a client starts, it connects to a random server which communicates to the client the leader for the current term.</p></div><div class="el-p"><p dir="auto">Raft guarantees <a data-tooltip-position="top" aria-label="Data-centric consistency models > Linearizability" data-href="Data-centric consistency models#Linearizability" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/8-replication-and-consistency/related/data-centric-consistency-models.html#Linearizability" class="internal-link" target="_self" rel="noopener nofollow">linearizable</a> consistency, meaning that all operation behave as if they were executed once and only once on a single copy.</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Logs" dir="auto" class="heading" id="Logs"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Logs</h3><div class="heading-children"><div class="el-p"><p dir="auto">Logs are stored on disk by servers in order to make them survive to process failures.<br>
Crash can result in log inconsistencies. Raft treat them in the following way: leader assumes its log is correct and leave normal operation repair all inconsistencies.</p></div><div class="el-h4 heading-wrapper"><h4 data-heading="Log matching property" dir="auto" class="heading" id="Log_matching_property"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Log matching property</h4><div class="heading-children"><div class="el-p"><p dir="auto">The <strong>log matching property</strong> ensures that logs across all replicas remain consistent. It is based on two principles:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Log entries with the same index and the same term store the same command, that is, the index, term pair is an unique identifier for the command.</li>
<li data-line="1" dir="auto">If a server has a log entry at a specific index term, all earlier entries in the log must be identical to the leader's log before that specific log entry.</li>
</ul></div><div class="el-h5 heading-wrapper"><h5 data-heading="Consistency check" dir="auto" class="heading" id="Consistency_check"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Consistency check</h5><div class="heading-children"><div class="el-p"><p dir="auto">AppendEntries messages include &lt;index, term&gt; of the entry preceding the new one. Followers check whether they have the same previous log entry (same index and term) in their own log. If a follower doesn't match the entry, it rejects the request. The leader will try again with a lower log index. This implements an induction step that ensures the log matching property.</p></div><div class="el-p"><p dir="auto">Notice that Raft uses the very same message for propagating and for finding inconsistencies in the log.</p></div></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="Leader completeness" dir="auto" class="heading" id="Leader_completeness"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Leader completeness</h4><div class="heading-children"><div class="el-p"><p dir="auto">Once a log entry has been committed, all future leaders must store that entry.<br>
Servers with incomplete logs must not get elected. Candidate must prove their log is complete by including index and term of last log entry in the RequestVote message. Voting servers deny vote if its log is more up-to-date.</p></div></div></div></div></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Use in DBMS" dir="auto" class="heading" id="Use_in_DBMS">Use in DBMS</h1><div class="heading-children"><div class="el-p"><p dir="auto">Some modern distributed database management systems integrate <strong>replicated state machines</strong> and <strong>commit protocols</strong>. In fact, usually in distributed databases, there are two layers:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">First layer: The database is partitioned. To ensure atomic commit across partitions, 2PC commit protocol can be used. </li>
<li data-line="1" dir="auto">Second layer. The partitions are managed by multiple machines. Replicated state machine are used to ensure that the different machines behave as one.</li>
</ul></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Byzantine Fault Tolerant (BFT) consensus" dir="auto" class="heading" id="Byzantine_Fault_Tolerant_(BFT)_consensus">Byzantine Fault Tolerant (BFT) consensus</h1><div class="heading-children"><div class="el-p"><p dir="auto">State machine replication can be extended to consider byzantine processes.</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="Blockchain" dir="auto" class="heading" id="Blockchain"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Blockchain</h2><div class="heading-children"><div class="el-p"><p dir="auto">Cryptocurrencies can be seen as replicated state machines, where a distributed consensus of account balances is needed, here the <a data-href="Blockchain" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/blockchain.html" class="internal-link" target="_self" rel="noopener nofollow">Blockchain</a> can be used.</p></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Commit protocols"><div class="tree-item-contents heading-link" heading-name="Commit protocols"><span class="tree-item-title">Commit protocols</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Atomic_Commit"><div class="tree-item-contents heading-link" heading-name="Atomic Commit"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Atomic Commit</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Two_phase_commit_(2PC)"><div class="tree-item-contents heading-link" heading-name="Two phase commit (2PC)"><span class="tree-item-title">Two phase commit (2PC)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Three_phase_commit_(3PC)"><div class="tree-item-contents heading-link" heading-name="Three phase commit (3PC)"><span class="tree-item-title">Three phase commit (3PC)</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Replicated_state_machines"><div class="tree-item-contents heading-link" heading-name="Replicated state machines"><span class="tree-item-title">Replicated state machines</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Guarantees"><div class="tree-item-contents heading-link" heading-name="Guarantees"><span class="tree-item-title">Guarantees</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Paxos_algorithm"><div class="tree-item-contents heading-link" heading-name="Paxos algorithm"><span class="tree-item-title">Paxos algorithm</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Raft_algorithm"><div class="tree-item-contents heading-link" heading-name="Raft algorithm"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Raft algorithm</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#The_algorithm_-_normal_operation"><div class="tree-item-contents heading-link" heading-name="The algorithm - normal operation"><span class="tree-item-title">The algorithm - normal operation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Leader_election"><div class="tree-item-contents heading-link" heading-name="Leader election"><span class="tree-item-title">Leader election</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Communication_with_clients"><div class="tree-item-contents heading-link" heading-name="Communication with clients"><span class="tree-item-title">Communication with clients</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Logs"><div class="tree-item-contents heading-link" heading-name="Logs"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Logs</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Log_matching_property"><div class="tree-item-contents heading-link" heading-name="Log matching property"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Log matching property</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Consistency_check"><div class="tree-item-contents heading-link" heading-name="Consistency check"><span class="tree-item-title">Consistency check</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Leader_completeness"><div class="tree-item-contents heading-link" heading-name="Leader completeness"><span class="tree-item-title">Leader completeness</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Use_in_DBMS"><div class="tree-item-contents heading-link" heading-name="Use in DBMS"><span class="tree-item-title">Use in DBMS</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Byzantine_Fault_Tolerant_(BFT)_consensus"><div class="tree-item-contents heading-link" heading-name="Byzantine Fault Tolerant (BFT) consensus"><span class="tree-item-title">Byzantine Fault Tolerant (BFT) consensus</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="universitÃ /master-first-semester/distributed-systems-ðŸŒ/7-agreement/agreement.html#Blockchain"><div class="tree-item-contents heading-link" heading-name="Blockchain"><span class="tree-item-title">Blockchain</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>